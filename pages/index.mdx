# PHP M-Pesa SDK Documentation

Welcome to the PHP M-Pesa SDK Documentation! This comprehensive SDK provides a modern, type-safe interface for integrating M-Pesa payment services into your PHP applications in Ethiopia.

## Overview

The M-Pesa SDK is a PHP library designed to facilitate integration with the M-Pesa payment system. It provides a robust set of methods and utilities for handling transactions, managing responses, and handling exceptions.

## Installation

To install the M-Pesa SDK, you can use Composer:

```bash
composer require mesa-sdk/php-mpesa
```

## Basic Usage

Here's a simple example of how to use the M-Pesa SDK:

```php
use MesaSDK\PhpMpesa\Mpesa;

$mpesa = new Mpesa([
    'consumerKey' => 'your_consumer_key',
    'consumerSecret' => 'your_consumer_secret',
    'shortCode' => 'your_short_code',
    'environment' => 'sandbox'
]);

$mpesa->setPhoneNumber('254712345678')
     ->setAmount(1000)
     ->setCallbackUrl('https://your-callback-url.com')
     ->setTransactionDesc('Payment for services')
     ->setAccountReference('123456')
     ->authenticate()
     ->ussdPush();

if ($mpesa->isSuccessful()) {
    echo "Transaction successful!";
} else {
    echo "Transaction failed: " . $mpesa->getErrorMessage();
}
```

## Key Features

- **STK Push Integration**: Easily implement M-Pesa's STK Push functionality
- **B2C Operations**: Handle Business-to-Customer transactions seamlessly
- **C2B Capabilities**: Process Customer-to-Business payments with validation
- **Transaction Status Queries**: Monitor and track payment statuses
- **URL Registration**: Automated handling of confirmation and validation URLs
- **Account Balance Queries**: Check your M-Pesa account balance
- **Type-Safe Responses**: All responses are properly typed for better reliability
- **Fluent Interface**: Modern, chainable methods for better code readability
- **Comprehensive Error Handling**: Robust error handling with custom exceptions
- **Extensive Testing**: Well-tested codebase ensuring stability

## Prerequisites

- PHP 7.4 or higher
- Composer
- GuzzleHTTP 7.0 or higher
- PHP extensions: curl, json
- Valid M-Pesa API credentials (Consumer Key and Secret)
- Internet connectivity

## Core Features

### 1. STK Push

Initiate M-Pesa payments through STK Push notifications to customer phones.

### 2. B2C Operations

Handle Business-to-Customer transactions including:

- Salary Payments
- Promotion Payments
- Business Payments

### 3. C2B Operations

Process Customer-to-Business payments with:

- Payment validation
- Transaction simulation (for testing)
- Real-time notification handling

### 4. Transaction Management

- Query transaction status
- Check account balance
- Handle timeouts and callbacks

## Support

If you encounter any issues or have questions:

1. Check our [FAQ](./faq.mdx)
2. Review existing [GitHub Issues](https://github.com/Mesele-shishay/PhpMpesaSDK/issues)
3. Create a new issue if needed
4. Join our [GitHub Discussions](https://github.com/Mesele-shishay/PhpMpesaSDK/discussions)

## Next Steps

Explore the core classes, exceptions, and examples to get a deeper understanding of the SDK's capabilities.
